{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'Home',\n  // HomeView에서 Home으로 변경\n  data() {\n    return {\n      roomCode: '',\n      isValidCode: false,\n      appTitle: process.env.VUE_APP_TITLE || '실시간 코드 공유'\n    };\n  },\n  mounted() {\n    this.$refs.roomInput.focus();\n  },\n  methods: {\n    handleInput(e) {\n      this.roomCode = e.target.value.replace(/[^0-9]/g, '');\n      this.isValidCode = /^\\d{6}$/.test(this.roomCode);\n    },\n    async handleRoom() {\n      if (this.roomCode.length === 0) {\n        this.roomCode = Math.floor(100000 + Math.random() * 900000).toString();\n        this.isValidCode = true;\n      } else if (!this.isValidCode) {\n        return;\n      }\n      const apiUrl = `${process.env.VUE_APP_API_URL || 'http://localhost:8080'}/api/rooms/${this.roomCode}`;\n      try {\n        const checkRoom = await axios.get(apiUrl);\n        if (checkRoom.data && checkRoom.data.id) {\n          console.log('Room exists:', checkRoom.data);\n          this.$router.push(`/room/${this.roomCode}`);\n          return;\n        }\n      } catch (error) {\n        if (error.response && error.response.status === 404) {\n          try {\n            const createRoom = await axios.post(apiUrl);\n            console.log('Room created:', createRoom.data);\n            this.$router.push(`/room/${this.roomCode}`);\n          } catch (createError) {\n            console.error('Failed to create room:', createError);\n            alert('방 생성에 실패했습니다. 다시 시도해주세요.');\n          }\n        } else {\n          console.error('Error checking room:', error);\n          alert('서버 연결에 실패했습니다. 다시 시도해주세요.');\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","roomCode","isValidCode","appTitle","process","env","VUE_APP_TITLE","mounted","$refs","roomInput","focus","methods","handleInput","e","target","value","replace","test","handleRoom","length","Math","floor","random","toString","apiUrl","VUE_APP_API_URL","checkRoom","get","id","console","log","$router","push","error","response","status","createRoom","post","createError","alert"],"sources":["src/views/Home.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"container\">\n      <h1>{{ appTitle }}</h1>\n      \n      <div class=\"room-input\">\n        <input \n          type=\"text\" \n          v-model=\"roomCode\"\n          @input=\"handleInput\"\n          @keyup.enter=\"handleRoom\"\n          placeholder=\"6자리 방 코드 입력\"\n          maxlength=\"6\"\n          ref=\"roomInput\"\n          autocomplete=\"off\"\n        />\n        <button \n          @click=\"handleRoom\" \n          :disabled=\"!isValidCode && roomCode.length > 0\"\n          class=\"primary-button\"\n        >\n          {{ roomCode.length === 0 ? '새 방 만들기' : '입장하기' }}\n        </button>\n      </div>\n      \n      <p class=\"hint\" v-if=\"roomCode.length > 0 && !isValidCode\">\n        6자리 숫자를 입력해주세요\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'Home',  // HomeView에서 Home으로 변경\n  data() {\n    return {\n      roomCode: '',\n      isValidCode: false,\n      appTitle: process.env.VUE_APP_TITLE || '실시간 코드 공유'\n    }\n  },\n  mounted() {\n    this.$refs.roomInput.focus();\n  },\n  methods: {\n    handleInput(e) {\n      this.roomCode = e.target.value.replace(/[^0-9]/g, '');\n      this.isValidCode = /^\\d{6}$/.test(this.roomCode);\n    },\n    async handleRoom() {\n      if (this.roomCode.length === 0) {\n        this.roomCode = Math.floor(100000 + Math.random() * 900000).toString();\n        this.isValidCode = true;\n      } else if (!this.isValidCode) {\n        return;\n      }\n      \n      const apiUrl = `${process.env.VUE_APP_API_URL || 'http://localhost:8080'}/api/rooms/${this.roomCode}`;\n      \n      try {\n        const checkRoom = await axios.get(apiUrl);\n        if (checkRoom.data && checkRoom.data.id) {\n          console.log('Room exists:', checkRoom.data);\n          this.$router.push(`/room/${this.roomCode}`);\n          return;\n        }\n      } catch (error) {\n        if (error.response && error.response.status === 404) {\n          try {\n            const createRoom = await axios.post(apiUrl);\n            console.log('Room created:', createRoom.data);\n            this.$router.push(`/room/${this.roomCode}`);\n          } catch (createError) {\n            console.error('Failed to create room:', createError);\n            alert('방 생성에 실패했습니다. 다시 시도해주세요.');\n          }\n        } else {\n          console.error('Error checking room:', error);\n          alert('서버 연결에 실패했습니다. 다시 시도해주세요.');\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.home {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background-color: #f5f5f5;\n}\n\n.container {\n  background: white;\n  padding: 2rem;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  width: 100%;\n  max-width: 400px;\n  text-align: center;\n}\n\nh1 {\n  margin-bottom: 2rem;\n  color: #333;\n}\n\n.room-input {\n  margin: 1rem 0;\n}\n\ninput {\n  width: 100%;\n  padding: 0.8rem;\n  margin: 0.5rem 0;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n  text-align: center;\n  letter-spacing: 2px;\n}\n\ninput:focus {\n  outline: none;\n  border-color: #4CAF50;\n  box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);\n}\n\n.primary-button {\n  width: 100%;\n  padding: 0.8rem;\n  margin: 0.5rem 0;\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  cursor: pointer;\n  background-color: #4CAF50;\n  color: white;\n  transition: background-color 0.2s;\n}\n\n.primary-button:disabled {\n  background-color: #cccccc;\n  cursor: not-allowed;\n}\n\n.primary-button:hover:not(:disabled) {\n  background-color: #45a049;\n}\n\n.hint {\n  color: #666;\n  font-size: 0.9rem;\n  margin-top: 0.5rem;\n}\n</style>\n"],"mappings":";AAiCA,OAAAA,KAAA;AAEA;EACAC,IAAA;EAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,WAAA;MACAC,QAAA,EAAAC,OAAA,CAAAC,GAAA,CAAAC,aAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,KAAA,CAAAC,SAAA,CAAAC,KAAA;EACA;EACAC,OAAA;IACAC,YAAAC,CAAA;MACA,KAAAZ,QAAA,GAAAY,CAAA,CAAAC,MAAA,CAAAC,KAAA,CAAAC,OAAA;MACA,KAAAd,WAAA,aAAAe,IAAA,MAAAhB,QAAA;IACA;IACA,MAAAiB,WAAA;MACA,SAAAjB,QAAA,CAAAkB,MAAA;QACA,KAAAlB,QAAA,GAAAmB,IAAA,CAAAC,KAAA,UAAAD,IAAA,CAAAE,MAAA,aAAAC,QAAA;QACA,KAAArB,WAAA;MACA,iBAAAA,WAAA;QACA;MACA;MAEA,MAAAsB,MAAA,MAAApB,OAAA,CAAAC,GAAA,CAAAoB,eAAA,8CAAAxB,QAAA;MAEA;QACA,MAAAyB,SAAA,SAAA5B,KAAA,CAAA6B,GAAA,CAAAH,MAAA;QACA,IAAAE,SAAA,CAAA1B,IAAA,IAAA0B,SAAA,CAAA1B,IAAA,CAAA4B,EAAA;UACAC,OAAA,CAAAC,GAAA,iBAAAJ,SAAA,CAAA1B,IAAA;UACA,KAAA+B,OAAA,CAAAC,IAAA,eAAA/B,QAAA;UACA;QACA;MACA,SAAAgC,KAAA;QACA,IAAAA,KAAA,CAAAC,QAAA,IAAAD,KAAA,CAAAC,QAAA,CAAAC,MAAA;UACA;YACA,MAAAC,UAAA,SAAAtC,KAAA,CAAAuC,IAAA,CAAAb,MAAA;YACAK,OAAA,CAAAC,GAAA,kBAAAM,UAAA,CAAApC,IAAA;YACA,KAAA+B,OAAA,CAAAC,IAAA,eAAA/B,QAAA;UACA,SAAAqC,WAAA;YACAT,OAAA,CAAAI,KAAA,2BAAAK,WAAA;YACAC,KAAA;UACA;QACA;UACAV,OAAA,CAAAI,KAAA,yBAAAA,KAAA;UACAM,KAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}