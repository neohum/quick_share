{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      roomCode: '',\n      isValidCode: false,\n      appTitle: process.env.VUE_APP_TITLE || '실시간 코드 공유',\n      apiUrl: process.env.VUE_APP_API_URL || 'http://localhost:8080'\n    };\n  },\n  mounted() {\n    this.$refs.roomInput.focus();\n  },\n  methods: {\n    handleInput(e) {\n      this.roomCode = e.target.value.replace(/[^0-9]/g, '');\n      this.isValidCode = /^\\d{6}$/.test(this.roomCode);\n    },\n    async handleRoom() {\n      if (this.roomCode.length === 0) {\n        try {\n          const response = await axios.post(`${this.apiUrl}/api/rooms`);\n          this.roomCode = response.data.roomCode;\n          this.isValidCode = true;\n        } catch (error) {\n          console.error('Failed to generate room code:', error);\n          alert('방 생성에 실패했습니다. 다시 시도해주세요.');\n          return;\n        }\n      } else if (!this.isValidCode) {\n        return;\n      }\n      try {\n        await axios.post(`${this.apiUrl}/api/rooms/${this.roomCode}`);\n        this.$router.push(`/room/${this.roomCode}`);\n      } catch (error) {\n        if (error.response) {\n          console.error('Server error:', error.response.data);\n          alert(error.response.data.message || '서버 오류가 발생했습니다.');\n        } else if (error.request) {\n          console.error('Network error:', error);\n          alert('서버에 연결할 수 없습니다. 네트워크 연결을 확인해주세요.');\n        } else {\n          console.error('Error:', error);\n          alert('알 수 없는 오류가 발생했습니다.');\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","roomCode","isValidCode","appTitle","process","env","VUE_APP_TITLE","apiUrl","VUE_APP_API_URL","mounted","$refs","roomInput","focus","methods","handleInput","e","target","value","replace","test","handleRoom","length","response","post","error","console","alert","$router","push","message","request"],"sources":["src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <h1>{{ appTitle }}</h1>\n    <div class=\"room-input\">\n      <input\n        ref=\"roomInput\"\n        type=\"text\"\n        v-model=\"roomCode\"\n        @input=\"handleInput\"\n        placeholder=\"6자리 방 코드 입력\"\n        maxlength=\"6\"\n      >\n      <button @click=\"handleRoom\" :disabled=\"roomCode.length > 0 && !isValidCode\">\n        {{ roomCode.length === 0 ? '새 방 만들기' : '방 참여하기' }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      roomCode: '',\n      isValidCode: false,\n      appTitle: process.env.VUE_APP_TITLE || '실시간 코드 공유',\n      apiUrl: process.env.VUE_APP_API_URL || 'http://localhost:8080'\n    }\n  },\n  mounted() {\n    this.$refs.roomInput.focus()\n  },\n  methods: {\n    handleInput(e) {\n      this.roomCode = e.target.value.replace(/[^0-9]/g, '')\n      this.isValidCode = /^\\d{6}$/.test(this.roomCode)\n    },\n    async handleRoom() {\n      if (this.roomCode.length === 0) {\n        try {\n          const response = await axios.post(`${this.apiUrl}/api/rooms`)\n          this.roomCode = response.data.roomCode\n          this.isValidCode = true\n        } catch (error) {\n          console.error('Failed to generate room code:', error)\n          alert('방 생성에 실패했습니다. 다시 시도해주세요.')\n          return\n        }\n      } else if (!this.isValidCode) {\n        return\n      }\n      \n      try {\n        await axios.post(`${this.apiUrl}/api/rooms/${this.roomCode}`)\n        this.$router.push(`/room/${this.roomCode}`)\n      } catch (error) {\n        if (error.response) {\n          console.error('Server error:', error.response.data)\n          alert(error.response.data.message || '서버 오류가 발생했습니다.')\n        } else if (error.request) {\n          console.error('Network error:', error)\n          alert('서버에 연결할 수 없습니다. 네트워크 연결을 확인해주세요.')\n        } else {\n          console.error('Error:', error)\n          alert('알 수 없는 오류가 발생했습니다.')\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.home {\n  padding: 20px;\n  text-align: center;\n}\n\n.room-input {\n  margin-top: 20px;\n}\n\ninput {\n  padding: 8px;\n  margin-right: 10px;\n  font-size: 16px;\n}\n\nbutton {\n  padding: 8px 16px;\n  font-size: 16px;\n  cursor: pointer;\n}\n\nbutton:disabled {\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n</style>"],"mappings":";AAoBA,OAAAA,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,WAAA;MACAC,QAAA,EAAAC,OAAA,CAAAC,GAAA,CAAAC,aAAA;MACAC,MAAA,EAAAH,OAAA,CAAAC,GAAA,CAAAG,eAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,KAAA,CAAAC,SAAA,CAAAC,KAAA;EACA;EACAC,OAAA;IACAC,YAAAC,CAAA;MACA,KAAAd,QAAA,GAAAc,CAAA,CAAAC,MAAA,CAAAC,KAAA,CAAAC,OAAA;MACA,KAAAhB,WAAA,aAAAiB,IAAA,MAAAlB,QAAA;IACA;IACA,MAAAmB,WAAA;MACA,SAAAnB,QAAA,CAAAoB,MAAA;QACA;UACA,MAAAC,QAAA,SAAAxB,KAAA,CAAAyB,IAAA,SAAAhB,MAAA;UACA,KAAAN,QAAA,GAAAqB,QAAA,CAAAtB,IAAA,CAAAC,QAAA;UACA,KAAAC,WAAA;QACA,SAAAsB,KAAA;UACAC,OAAA,CAAAD,KAAA,kCAAAA,KAAA;UACAE,KAAA;UACA;QACA;MACA,iBAAAxB,WAAA;QACA;MACA;MAEA;QACA,MAAAJ,KAAA,CAAAyB,IAAA,SAAAhB,MAAA,mBAAAN,QAAA;QACA,KAAA0B,OAAA,CAAAC,IAAA,eAAA3B,QAAA;MACA,SAAAuB,KAAA;QACA,IAAAA,KAAA,CAAAF,QAAA;UACAG,OAAA,CAAAD,KAAA,kBAAAA,KAAA,CAAAF,QAAA,CAAAtB,IAAA;UACA0B,KAAA,CAAAF,KAAA,CAAAF,QAAA,CAAAtB,IAAA,CAAA6B,OAAA;QACA,WAAAL,KAAA,CAAAM,OAAA;UACAL,OAAA,CAAAD,KAAA,mBAAAA,KAAA;UACAE,KAAA;QACA;UACAD,OAAA,CAAAD,KAAA,WAAAA,KAAA;UACAE,KAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}