{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport io from 'socket.io-client';\nimport axios from 'axios';\nexport default {\n  name: 'RoomView',\n  data() {\n    return {\n      socket: null,\n      content: '',\n      roomId: this.$route.params.roomId,\n      debounceTimeout: null\n    };\n  },\n  async created() {\n    if (!/^\\d{6}$/.test(this.roomId)) {\n      this.$router.push('/');\n      return;\n    }\n    try {\n      await axios.get(`${process.env.VUE_APP_API_URL}/api/rooms/${this.roomId}`);\n      this.initializeSocket();\n    } catch (error) {\n      console.error('Room not found:', error);\n      this.$router.push('/');\n    }\n  },\n  methods: {\n    initializeSocket() {\n      this.socket = io(process.env.VUE_APP_SOCKET_URL);\n      this.socket.emit('joinRoom', this.roomId);\n      this.socket.on('fileUpdate', ({\n        content\n      }) => {\n        this.content = content;\n      });\n    },\n    handleInput() {\n      clearTimeout(this.debounceTimeout);\n      this.debounceTimeout = setTimeout(() => {\n        this.socket.emit('fileChange', {\n          roomId: this.roomId,\n          content: this.content\n        });\n      }, 500);\n    }\n  },\n  beforeDestroy() {\n    if (this.socket) {\n      this.socket.disconnect();\n    }\n  }\n};","map":{"version":3,"names":["io","axios","name","data","socket","content","roomId","$route","params","debounceTimeout","created","test","$router","push","get","process","env","VUE_APP_API_URL","initializeSocket","error","console","methods","VUE_APP_SOCKET_URL","emit","on","handleInput","clearTimeout","setTimeout","beforeDestroy","disconnect"],"sources":["src/views/Room.vue"],"sourcesContent":["<template>\n  <div class=\"room\">\n    <div class=\"editor-container\">\n      <textarea\n        v-model=\"content\"\n        @input=\"handleInput\"\n        placeholder=\"Enter your text here...\"\n      ></textarea>\n    </div>\n    <div class=\"room-info\">\n      Room ID: {{ roomId }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport io from 'socket.io-client';\nimport axios from 'axios';\n\nexport default {\n  name: 'RoomView',\n  data() {\n    return {\n      socket: null,\n      content: '',\n      roomId: this.$route.params.roomId,\n      debounceTimeout: null\n    }\n  },\n  async created() {\n    if (!/^\\d{6}$/.test(this.roomId)) {\n      this.$router.push('/');\n      return;\n    }\n\n    try {\n      await axios.get(`${process.env.VUE_APP_API_URL}/api/rooms/${this.roomId}`);\n      this.initializeSocket();\n    } catch (error) {\n      console.error('Room not found:', error);\n      this.$router.push('/');\n    }\n  },\n  methods: {\n    initializeSocket() {\n      this.socket = io(process.env.VUE_APP_SOCKET_URL);\n      this.socket.emit('joinRoom', this.roomId);\n      \n      this.socket.on('fileUpdate', ({ content }) => {\n        this.content = content;\n      });\n    },\n    handleInput() {\n      clearTimeout(this.debounceTimeout);\n      this.debounceTimeout = setTimeout(() => {\n        this.socket.emit('fileChange', {\n          roomId: this.roomId,\n          content: this.content\n        });\n      }, 500);\n    }\n  },\n  beforeDestroy() {\n    if (this.socket) {\n      this.socket.disconnect();\n    }\n  }\n}\n</script>\n\n<style scoped>\n.room {\n  padding: 20px;\n}\n.editor-container {\n  margin-bottom: 20px;\n}\ntextarea {\n  width: 100%;\n  height: 400px;\n  padding: 10px;\n}\n.room-info {\n  font-size: 14px;\n  color: #666;\n}\n</style>\n"],"mappings":";AAgBA,OAAAA,EAAA;AACA,OAAAC,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,MAAA;MACAC,OAAA;MACAC,MAAA,OAAAC,MAAA,CAAAC,MAAA,CAAAF,MAAA;MACAG,eAAA;IACA;EACA;EACA,MAAAC,QAAA;IACA,eAAAC,IAAA,MAAAL,MAAA;MACA,KAAAM,OAAA,CAAAC,IAAA;MACA;IACA;IAEA;MACA,MAAAZ,KAAA,CAAAa,GAAA,IAAAC,OAAA,CAAAC,GAAA,CAAAC,eAAA,mBAAAX,MAAA;MACA,KAAAY,gBAAA;IACA,SAAAC,KAAA;MACAC,OAAA,CAAAD,KAAA,oBAAAA,KAAA;MACA,KAAAP,OAAA,CAAAC,IAAA;IACA;EACA;EACAQ,OAAA;IACAH,iBAAA;MACA,KAAAd,MAAA,GAAAJ,EAAA,CAAAe,OAAA,CAAAC,GAAA,CAAAM,kBAAA;MACA,KAAAlB,MAAA,CAAAmB,IAAA,kBAAAjB,MAAA;MAEA,KAAAF,MAAA,CAAAoB,EAAA;QAAAnB;MAAA;QACA,KAAAA,OAAA,GAAAA,OAAA;MACA;IACA;IACAoB,YAAA;MACAC,YAAA,MAAAjB,eAAA;MACA,KAAAA,eAAA,GAAAkB,UAAA;QACA,KAAAvB,MAAA,CAAAmB,IAAA;UACAjB,MAAA,OAAAA,MAAA;UACAD,OAAA,OAAAA;QACA;MACA;IACA;EACA;EACAuB,cAAA;IACA,SAAAxB,MAAA;MACA,KAAAA,MAAA,CAAAyB,UAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}